
Массив - совокупность переменных одного типа под одним именем

## Одномерные массивы

```c
тип имя[размер];
```

Кол-во байтов = размер массива * размер базового типа

```c
int a[5]; // объявление

int a[5] = {0}; // инициализация нулями

int a[5] = {1, 2, 3, 4, 5};
int a[] = {1, 2, 3, 4, 5};

int a[5] = {[1]=2, [4]=5}; // частичная инициализация
```


![[Массивы 2024-10-12 15.31.35.excalidraw]]

```c

double a[3] = {1, 2, 3};

printf("%p\n", a);


//индексация
a[0] === *(a + 0)
a[1] === *(a + 1)
a[2] === *(a + 2)
		  //адресация

0[a] = 42
```


## Передача в ф-ии


```c
void f(int x[5]) // 1

void f(int x[1234])  // 2

void f(int *x)   // 3
```

Все 3 способа - эквивалентны.

```c
void f(size_t n, int x[n])

```

## Двухмерные массивы

Двухмерный массив - это массив одномерных массивов

```c
// О.ф
тип имя[размер1][размер2];
```

```c

int a[2][2] = {1, 2, 3, 4};
int a[2][2] = { {1, 2},
				{3, 4} };
int a[][2] = {1, 2, 3, 4};

```

```c
const size_t n = 3;
const size_t m = 4;

int a[n][m]; // 48 байтов

for (int i = 0; i < n; i++)
{
	for (int j = 0; j < m; j++)
	{
		a[i][j] = i * m + j + 1;
		printf("%4d", a[i][j]);
	}
	printf("\n");
}
```

```
вывод:
1   2   3   4
5   6   7   8
9  10  11  12

     0  1  2  3
     ----------
0 |  1  2  3  4
1 |  5  6  7  8
2 |  9 10 11 12


```

Размер массива = размер базового типа * размер1 * размер2

![[Массивы 2024-10-26 05.56.27.excalidraw]]

```c

//индексация
a[0][0] === *(a + 0 * m + 0)
a[0][1] === *(a + 0 * m + 1)
a[0][2] === *(a + 0 * m + 2)
a[0][3] === *(a + 0 * m + 3)
a[1][0] === *(a + 1 * m + 0)
...
		  //адресация
```

### Передача в функции

```c
void f(int x[3][4]) // 1

void f(int x[][4])  // 1    всегда должен быть заполнен второй размер 

void f(int **x)   // потребуется преобразование
```


## Многомерные массивы

```c
// О.ф
тип имя[размер1][размер2]...[размерN];
```

размер массива = размер1 * размер2 * ... * размерN * sizeof(базовый тип)

### Передача в функции

```c
void f(int x[3][4]...[42]) // 1

void f(int x[][4][5]...[42])  // 1    не обязательно заполнять первый размер 

void f(int ***...*x)   // потребуется преобразование
```

```c
double a[3][5][8][2]; // 1920 байтов ~ 1.9 кб
```


## Массивы переменной длины (VLA)

Массив переменной длины - *статический* массив, в качестве размера которого используются переменные (размер может стать известным во время выполнения).

- Только локальные массивы.
- начиная с C99

```c
size_t n, m;
printf("Введите n ->");
scanf("%zu", &n);
printf("Введите m ->");
scanf("%zu", &m);

int a[n][m];
```

